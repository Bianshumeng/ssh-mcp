# 任务清单

## 1. 准备阶段
- [x] 1.1 阅读现有规格
- [x] 1.2 确认无冲突进行中任务

## 2. 实现阶段
- [x] 2.1 新增 profiles-test 与连通性检测 | 验收：工具返回结构含 tcp/handshake/auth
- [x] 2.2 连接错误补齐目标上下文 | 验收：错误信息含 profileId/host/port
- [x] 2.3 握手失败重试与退避 | 验收：重试次数与退避符合预期
- [x] 2.4 单次命令 timeoutMs 覆盖 | 验收：exec/sudo-exec 支持参数
- [x] 2.5 README 补充新工具与参数 | 验收：文档示例可直接使用

## 3. 验证阶段
- [x] 3.1 相关单测通过
- [x] 3.2 本地场景验证通过

## 4. 收尾阶段
- [ ] 4.1 合并规格变更到 plan/规格/
- [ ] 4.2 归档到 plan/归档/

## 经验记录
### 步骤 3.1 执行记录
- 实际情况：`profiles-test` 相关用例通过，`description.test.ts` 中与 SSH 实际执行相关用例因本机未启动 127.0.0.1:2222 测试 SSH 服务而失败。
- 遇到问题：本机缺少测试 SSH 服务。
- 技术债：无（属于环境依赖）。

### 步骤 3.2 执行记录
- 实际情况：通过 docker-compose 启动本地 SSH 服务后，`npm test` 全量通过（64/64）。
- 遇到问题：首次拉取 lscr.io 镜像失败，改用 Docker Hub 镜像并 tag 后解决。
- 技术债：无。
