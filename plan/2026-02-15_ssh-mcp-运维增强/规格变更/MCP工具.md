# MCP工具 - 变更

## 新增需求

### 需求：profiles-test 连通性自检
#### 场景：快速验证目标可用性
- 当 用户调用 `profiles-test`（可选 profileId）
- 那么 系统依次检测 TCP 通、SSH 握手、认证并返回步骤结果与耗时

### 需求：exec/sudo-exec 支持单次 timeoutMs
#### 场景：单次命令需要更短/更长超时
- 当 用户在 `exec/sudo-exec` 传入 `timeoutMs`
- 那么 本次命令使用该超时而不影响全局默认值

### 需求：错误信息携带目标上下文
#### 场景：连接或执行失败需要快速定位目标
- 当 SSH 连接/握手/命令执行失败
- 那么 错误信息必须包含 `profileId/host/port`

### 需求：握手失败自动重试
#### 场景：网络瞬态波动导致握手失败
- 当 握手类错误发生
- 那么 系统自动重试 2 次（指数退避），认证失败不重试
