# SSH MCP 增强版技术栈约束

最后更新：2026-02-15

## 能力概述

本模块基于 Node.js + TypeScript + MCP SDK + ssh2，不引入数据库与 Web UI。

## 关联文档

- 产品需求：`plan/规格/产品需求.md`
- 后端结构：`plan/规格/后端结构.md`
- 技术设计：`plan/2026-02-15_ssh-mcp-配置模板与动态切换/技术设计.md`

## 需求列表

### 需求：运行时与依赖边界

实现必须保持 Node 18+ 运行，并沿用现有 MCP SDK 与 ssh2。

#### 场景：依赖新增受控
- 当 需要支持 YAML 读取
- 那么 仅新增最小解析依赖并保持 CLI 行为兼容

### 需求：安全输出约束

实现必须避免在工具返回和日志中泄露明文密码字段。

#### 场景：输出脱敏
- 当 返回 profile 列表或错误信息
- 那么 不展示 `password`、`sudoPassword` 明文

### 需求：可测试性

改动必须包含单测与最小集成验证能力。

#### 场景：改动验收
- 当 提交配置层与 profile 生命周期改动
- 那么 至少包含配置解析和模式冲突校验测试

